# 1s, 128mb
# ë¬¸ì œ ë¶„ì„: ë°±ì¤€ 2579ë²ˆ 'ê³„ë‹¨ ì˜¤ë¥´ê¸°' (https://www.acmicpc.net/problem/2579)
# í˜„ì¬ ì ‘ê·¼: DP í…Œì´ë¸”ì— [ì—°ì†íšŸìˆ˜, ì ìˆ˜]ë¥¼ ì €ì¥í•˜ë©° ê·¸ë¦¬ë””í•˜ê²Œ ê°±ì‹ í•˜ëŠ” ë°©ì‹
# íŒíŠ¸ ë ˆë²¨ 1: í˜„ì¬ ì½”ë“œì˜ 'ê·¸ë¦¬ë””í•œ ì„ íƒ'ì´ ìµœì í•´ê°€ ì•„ë‹ ìˆ˜ ìˆìŒì„ ì¸ì§€í•´ì•¼ í•©ë‹ˆë‹¤.
# íŒíŠ¸ ë ˆë²¨ 2: ë§ˆì§€ë§‰ ê³„ë‹¨ì„ ë°ŸëŠ” ê²½ìš°ëŠ” ë”± ë‘ ê°€ì§€ íŒ¨í„´ë¿ì…ë‹ˆë‹¤. ì´ë¥¼ ì´ìš©í•´ ì í™”ì‹ì„ ì„¸ì›Œë³´ì„¸ìš”.
import sys
input = sys.stdin.readline

n = int(input()) # 300ì´í•˜

step_list = []

for _ in range(n):
    step_list.append(int(input()))

step_hash = [[0,0] for _ in range(n+1)]

for i in range(1,n+1):
    # ğŸ’¡ íŒíŠ¸: ì—¬ê¸°ì„œ 'ì ìˆ˜ê°€ ë” í° ê²ƒ'ì„ ë‹¨ìˆœíˆ ì„ íƒí•˜ë©´ ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    # ì˜ˆ: ì ìˆ˜ 100 (ì—°ì† 1ì¹¸, ë‹¤ìŒ ì¹¸ ë°Ÿê¸° ê°€ëŠ¥) vs ì ìˆ˜ 101 (ì—°ì† 2ì¹¸, ë‹¤ìŒ ì¹¸ ë°Ÿê¸° ë¶ˆê°€ëŠ¥)
    # ë‹¹ì¥ì€ 101ì´ í¬ì§€ë§Œ, ë°”ë¡œ ë‹¤ìŒ ì¹¸ ì ìˆ˜ê°€ 1000ì ì´ë¼ë©´ 101ì„ ì„ íƒí•œ íƒ“ì— 1000ì ì„ ëª» ë°ŸìŠµë‹ˆë‹¤.
    # ë”°ë¼ì„œ ië²ˆì§¸ ê³„ë‹¨ì— ë„ì°©í•˜ëŠ” 'ëª¨ë“  ìœ íš¨í•œ ê²½ë¡œ' ì¤‘ ìµœëŒ“ê°’ì„ êµ¬í•´ì•¼ í•©ë‹ˆë‹¤.
    
    # ğŸ“Œ ì²´í¬í¬ì¸íŠ¸: ië²ˆì§¸ ê³„ë‹¨ì„ ë°ŸëŠ” ë°©ë²•ì€ ë‹¤ìŒ ë‘ ê°€ì§€ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.
    # 1. (i-2)ë²ˆì§¸ ê³„ë‹¨ê¹Œì§€ì˜ ìµœëŒ“ê°’ + ië²ˆì§¸ ê³„ë‹¨ ì ìˆ˜ (2ì¹¸ ì í”„)
    # 2. (i-3)ë²ˆì§¸ ê³„ë‹¨ê¹Œì§€ì˜ ìµœëŒ“ê°’ + (i-1)ë²ˆì§¸ ê³„ë‹¨ ì ìˆ˜ + ië²ˆì§¸ ê³„ë‹¨ ì ìˆ˜ (1ì¹¸ ì´ë™)
    # ì í™”ì‹ ì œì•ˆ: dp[i] = step_list[i-1] + max(dp[i-2], dp[i-3] + step_list[i-2])
    
    # ê¸°ì¡´ ë¡œì§ ëŒ€ì‹  ìœ„ ì í™”ì‹ì„ ì‚¬ìš©í•˜ì—¬ dp[i] (ìµœëŒ€ ì ìˆ˜) í•˜ë‚˜ë§Œ ê´€ë¦¬í•˜ê±°ë‚˜,
    # dp[i][0], dp[i][1] ì²˜ëŸ¼ ìƒíƒœë¥¼ ëª…í™•íˆ ë‚˜ëˆ„ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.
    
    if step_hash[i-1][0] == 2:
        step_hash[i][0] = 1
        step_hash[i][1]= step_list[i-1] + step_hash[i-2][1]

    else:
        if i == 1 or step_hash[i-1][1] > step_hash[i-2][1]:
            step_hash[i][0] += 1
            step_hash[i][1] = step_list[i-1] + step_hash[i-1][1]
        else:
            step_hash[i][0] = 1
            step_hash[i][1] = step_list[i-1] + step_hash[i-2][1]

print(step_hash[n][1])

