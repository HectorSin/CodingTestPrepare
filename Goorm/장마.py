# https://level.goorm.io/exam/194982/%EC%9E%A5%EB%A7%88/quiz/1

# -*- coding: utf-8 -*-
# UTF-8 encoding when using korean

# ì¶œë ¥ì— -1 ê°€ëŠ¥
# ë•… ë†’ì´ëŠ” ê·¸ëŒ€ë¡œ ë‘ê³  ë¬¼ ë†’ì´ ë³€í™”ë§Œ ì²´í¬í•˜ëŠ” ë¦¬ìŠ¤íŠ¸ë¡œ ê´€ë¦¬

# counter = 0 # ë°°ìˆ˜ê¸°ê°„ ì²´í¬ ë³€ìˆ˜
# start_point = 1000
# end_point = 0

# def check_rain(s,e):
# 	"""
# 	s, e ì‚¬ì´ì˜ ê±´ë¬¼ ë¹„ ë‚´ë¦¬ê¸°
# 	3ì˜ ë°°ìˆ˜ ê¸°ê°„ ë°°ìˆ˜ ì²˜ë¦¬
# 	"""
# 	global water_list
# 	global counter
# 	global start_point
# 	global end_point

# 	counter += 1
# 	start_point = min(s,start_point)
# 	end_point = max(e, end_point)

# 	for i in range(s-1, e):
# 		water_list[i] = water_list[i]+1

# 	if counter == 3:
# 		counter = 0
# 		for i in range(start_point-1, end_point):
# 			water_list[i] = max(water_list[i]-1,0)
# 		start_point = 1000
# 		end_point = 0
# 		# water_list = [max(0, i-1)for i in water_list] # ì´ê±´ ì²˜ìŒ ë¶€í„° ì§„í–‰ì„ í•˜ê¸°ì— O(N^2) ê°œì„  í•„ìš”
		

	

# N, M = map(int,input().split()) # N ì§‘ ê°œìˆ˜ M ë¬¼ ë†’ì´

# building_list = list(map(int,input().split()))

# water_list = [0] * N # ëª° ë†’ì´ ê´€ë¦¬

# for _ in range(M):
# 	s,e = map(int,input().split())
# 	check_rain(s,e)

# result = [b+w for b,w in zip(building_list, water_list)]
# print(*result)

"""
=== êµ¬ë¦„IDE [ì¥ë§ˆ] ì½”ë“œ ë¦¬ë·° ===

[ë¬¸ì œ ì´í•´]
- Nê°œì˜ ì§‘ì— ëŒ€í•´ Mì¼ ë™ì•ˆ ë¹„ê°€ ë‚´ë¦½ë‹ˆë‹¤.
- 3ì˜ ë°°ìˆ˜ ë‚ ì§œë§ˆë‹¤, ìµœê·¼ 3ì¼(í¬í•¨) ë™ì•ˆ ë¹„ê°€ ë‚´ë ¸ë˜ ì§‘ë“¤ì€ ë¬¼ ë†’ì´ê°€ 1 ì¤„ì–´ë“­ë‹ˆë‹¤(ë°°ìˆ˜).
- ìµœì¢…ì ìœ¼ë¡œ ë•… ë†’ì´ + ë¬¼ ë†’ì´ë¥¼ ì¶œë ¥í•´ì•¼ í•©ë‹ˆë‹¤.

[ì„¤ê³„ í”„ë¡œì„¸ìŠ¤ í‰ê°€]
- ì£¼ì„ ì‘ì„± ì—¬ë¶€: X
- ë¬¸ì œ ë¶„ì„ ë‹¨ê³„: ì—†ìŒ
- ìë£Œêµ¬ì¡° ì„ íƒ ê·¼ê±°: ì—†ìŒ
- ì•Œê³ ë¦¬ì¦˜ ì„¤ê³„: ì—†ìŒ
- ì„¤ê³„-êµ¬í˜„ ì¼ì¹˜ë„: í‰ê°€ ë¶ˆê°€

[í˜„ì¬ ì ‘ê·¼ ë°©ì‹]
- 3ì¼ê°„ ë¹„ê°€ ë‚´ë¦° 'ë²”ìœ„(min_start ~ max_end)'ë¥¼ êµ¬í•´ í•´ë‹¹ êµ¬ê°„ ì „ì²´ë¥¼ ë°°ìˆ˜ ì²˜ë¦¬í•˜ê³  ìˆìŠµë‹ˆë‹¤.
- Listë¥¼ ì‚¬ìš©í•˜ì—¬ ë¬¼ ë†’ì´ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.

[ë¶„ì„ ê²°ê³¼]
- ë…¼ë¦¬ì  ì˜¤ë¥˜: ë¹„ê°€ ë‚´ë¦° ë²”ìœ„ì˜ ì‹œì‘(min)ê³¼ ë(max)ë§Œ ì‚¬ìš©í•˜ë©´, ì¤‘ê°„ì— ë¹„ê°€ ì˜¤ì§€ ì•Šì€ ì§‘ë“¤ë„ ë°°ìˆ˜ ì²˜ë¦¬ê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  (ì˜ˆ: 1ì¼ì°¨ 1~2ë²ˆ, 2ì¼ì°¨ 9~10ë²ˆ ì§‘ì— ë¹„ê°€ ì˜¤ë©´, ì½”ë“œëŠ” 1~10ë²ˆ ì „ì²´ë¥¼ ë°°ìˆ˜ ì²˜ë¦¬í•˜ê²Œ ë©ë‹ˆë‹¤.)
- ë²„ê·¸ ìœ„í—˜: `water_list`ê°€ M(ë‚ ì§œ ìˆ˜) í¬ê¸°ë¡œ ì´ˆê¸°í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤. N(ì§‘ì˜ ìˆ˜)ë³´ë‹¤ Mì´ ì‘ê±°ë‚˜, ë¹„ê°€ ì˜¤ëŠ” ì§‘ ë²ˆí˜¸ê°€ Më³´ë‹¤ í¬ë‹¤ë©´ `IndexError`ê°€ ë°œìƒí•©ë‹ˆë‹¤.

[íŒíŠ¸]
ğŸ’¡ **ì •í™•í•œ ë°°ìˆ˜ ëŒ€ìƒì„ ì°¾ì•„ë³´ì„¸ìš”**
- ë‹¨ìˆœíˆ ë²”ìœ„(Start~End)ë¥¼ í•©ì¹˜ëŠ” ê²ƒìœ¼ë¡œëŠ” ì¤‘ê°„ì— ë¹ˆ ê³µê°„(ë¹„ê°€ ì•ˆ ì˜¨ ì§‘)ì„ êµ¬ë³„í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
- "ìµœê·¼ 3ì¼ê°„ ë¹„ê°€ ì˜¨ ì§‘ì˜ ë²ˆí˜¸"ë¥¼ ì¤‘ë³µ ì—†ì´ ì €ì¥í•˜ë ¤ë©´ ì–´ë–¤ ìë£Œêµ¬ì¡°ê°€ ì¢‹ì„ê¹Œìš”? (List vs Set)

ğŸ’¡ **ì´ˆê¸°í™” í¬ê¸°ë¥¼ í™•ì¸í•˜ì„¸ìš”**
- ë¬¼ì€ 'ì§‘'ì— ìŒ“ì…ë‹ˆë‹¤. `water_list`ì˜ í¬ê¸°ëŠ” ë‚ ì§œ ìˆ˜(M)ê°€ ì•„ë‹ˆë¼ ì§‘ì˜ ìˆ˜(N)ì—¬ì•¼ í•©ë‹ˆë‹¤.

[ì„¤ê³„ ê°œì„  ì œì•ˆ]
ì½”ë“œë¥¼ ì‘ì„±í•˜ê¸° ì „, ì£¼ì„ìœ¼ë¡œ ë‹¤ìŒ ë‚´ìš©ì„ ì •ë¦¬í•´ë³´ì„¸ìš”:
1. ë°°ìˆ˜ ëŒ€ìƒ(ìµœê·¼ 3ì¼ê°„ ë¹„ ì˜¨ ì§‘)ì„ ì–´ë–»ê²Œ ì •í™•íˆ ì €ì¥í•  ê²ƒì¸ê°€? (Set ì¶”ì²œ)
2. `water_list`ì˜ ì¸ë±ìŠ¤ì™€ ì…ë ¥ë°›ëŠ” ì§‘ ë²ˆí˜¸(1ë¶€í„° ì‹œì‘)ì˜ ì°¨ì´ë¥¼ ì–´ë–»ê²Œ ì²˜ë¦¬í•  ê²ƒì¸ê°€?
3. ì „ì²´ ì‹œê°„ ë³µì¡ë„ê°€ N, Mì— ëŒ€í•´ ì•ˆì „í•œê°€?

[ë” ì•Œì•„ë³´ë©´ ì¢‹ì„ ê²ƒ]
- ì§‘í•©(Set) ìë£Œêµ¬ì¡°ì˜ íŠ¹ì„± (ì¤‘ë³µ ì œê±°, ì¡´ì¬ ì—¬ë¶€ í™•ì¸)
- ì¸ë±ìŠ¤ ì—ëŸ¬ ë°©ì§€ë¥¼ ìœ„í•œ ë°°ì—´ í¬ê¸° ì„¤ì •
"""

# -*- coding: utf-8 -*-
# UTF-8 encoding when using korean

# ì¶œë ¥ì— -1 ê°€ëŠ¥
# ë•… ë†’ì´ëŠ” ê·¸ëŒ€ë¡œ ë‘ê³  ë¬¼ ë†’ì´ ë³€í™”ë§Œ ì²´í¬í•˜ëŠ” ë¦¬ìŠ¤íŠ¸ë¡œ ê´€ë¦¬

import sys
input = sys.stdin.readline

counter = 0 # ë°°ìˆ˜ê¸°ê°„ ì²´í¬ ë³€ìˆ˜
watered_house = set() # ë¹„ì˜¨ì§‘ ì²´í¬

def check_rain(s,e):
	"""
	s, e ì‚¬ì´ì˜ ê±´ë¬¼ ë¹„ ë‚´ë¦¬ê¸°
	3ì˜ ë°°ìˆ˜ ê¸°ê°„ ë°°ìˆ˜ ì²˜ë¦¬
	"""
	global water_list
	global counter
	global watered_house

	counter += 1

	for i in range(s-1, e):
		water_list[i] = water_list[i]+1
		watered_house.add(i+1)

	if counter == 3:
		counter = 0
		for i in watered_house:
			water_list[i-1] = max(water_list[i-1]-1,0)
		watered_house = set()
		


N, M = map(int,input().split()) # N ì§‘ ê°œìˆ˜ M ë¬¼ ë†’ì´

building_list = list(map(int,input().split()))

water_list = [0] * N # ëª° ë†’ì´ ê´€ë¦¬

for _ in range(M):
	s,e = map(int,input().split())
	check_rain(s,e)

result = [b+w for b,w in zip(building_list, water_list)]
print(*result)

"""
=== êµ¬ë¦„IDE [ì¥ë§ˆ] 2ì°¨ ì½”ë“œ ë¦¬ë·° ===

[ì„¤ê³„ ë° êµ¬í˜„ í‰ê°€]
- ì„¤ê³„-êµ¬í˜„ ì¼ì¹˜ë„: ë†’ìŒ
- ìë£Œêµ¬ì¡° ì„ íƒ: ì ì ˆí•¨ (Set ì‚¬ìš©í•˜ì—¬ ì¤‘ë³µ ì—†ì´ ë°°ìˆ˜ ëŒ€ìƒ ê´€ë¦¬)
- ì´ˆê¸°í™”: ì •í™•í•¨ (N í¬ê¸°ì— ë§ì¶° water_list ìƒì„±)

[ë¶„ì„ ê²°ê³¼]
- ë…¼ë¦¬ì  ì •í™•ì„±:
  - 3ì¼ê°„ ë¹„ê°€ ì˜¨ ì§‘ë“¤ì„ `watered_house` Setì— ëª¨ì•„ë‘ì—ˆë‹¤ê°€, 3ì¼ì§¸ì— ì¼ê´„ ë°°ìˆ˜ ì²˜ë¦¬í•˜ëŠ” ë¡œì§ì´ ì •í™•í•©ë‹ˆë‹¤.
  - Setì„ ì‚¬ìš©í•˜ì—¬ ì¤‘ë³µëœ ì§‘ ë²ˆí˜¸ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê³  ìˆìŠµë‹ˆë‹¤.
  - `water_list`ê°€ ì˜¬ë°”ë¥¸ í¬ê¸°(N)ë¡œ ì´ˆê¸°í™”ë˜ì–´ ì¸ë±ìŠ¤ ì—ëŸ¬ ìœ„í—˜ì´ ì‚¬ë¼ì¡ŒìŠµë‹ˆë‹¤.
- ì‹œê°„ ë³µì¡ë„:
  - ë§¤ì¼ ë¹„ê°€ ì˜¬ ë•Œ O(E-S)ë§Œí¼ ë£¨í”„ë¥¼ ëŒì§€ë§Œ, Mê³¼ N ì œí•œ ë‚´ì—ì„œ í†µê³¼ ê°€ëŠ¥í•œ ìˆ˜ì¤€ì…ë‹ˆë‹¤.
  - Set ì—°ì‚°ì€ íš¨ìœ¨ì ì´ë¯€ë¡œ ë°°ìˆ˜ ë¡œì§ë„ ë¬¸ì œ ì—†ìŠµë‹ˆë‹¤.

[íŒíŠ¸/ì œì•ˆ]
ğŸ’¡ **í›Œë¥­í•©ë‹ˆë‹¤! ì •ë‹µì— ë„ë‹¬í•  ìˆ˜ ìˆëŠ” ë¡œì§ì…ë‹ˆë‹¤.**
- ë¬¸ì œì—ì„œ ìš”êµ¬í•˜ëŠ” ì¡°ê±´ì„ ì •í™•íˆ ìë£Œêµ¬ì¡°(Set)ë¡œ êµ¬í˜„í•˜ì…¨ìŠµë‹ˆë‹¤.
- ì´ì „ ì½”ë“œì˜ ë¬¸ì œì ë“¤ì´ ëª¨ë‘ ê¹”ë”í•˜ê²Œ í•´ê²°ë˜ì—ˆìŠµë‹ˆë‹¤.

[ë” ë‚˜ì€ ì„±ëŠ¥ì„ ìœ„í•œ íŒ]
- (ì‹¬í™”) íŒŒì´ì¬ì—ì„œ ì…ë ¥ ë°ì´í„°ê°€ ë§ì„ ë•Œ(`M=100,000`), `input()` í•¨ìˆ˜ëŠ” ë‹¤ì†Œ ëŠë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- `import sys; input = sys.stdin.readline`ì„ ì½”ë“œ ìƒë‹¨ì— ì¶”ê°€í•˜ë©´ ì‹¤í–‰ ì‹œê°„ì„ ë” ë‹¨ì¶•ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
"""